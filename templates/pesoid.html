{% extends "base.html" %}

{% block title %}Calculadoras Nutricionales{% endblock %}

{% block content %}
    <div class="container my-5">
        <h1 class="text-center text-success mb-5">Calculadoras Nutricionales</h1>
        <div class="card mb-4 border-success">
            <div class="card-header bg-success text-white">
                <h2 class="h5 mb-0">Peso Ideal</h2>
            </div>
        
            <div class="card-body">
        
                <div class="mb-3">
                    <label for="generoPesoIdeal" class="form-label text-success">Género:</label>
                    <select id="generoPesoIdeal" class="form-select">
                        <option value="H">Hombre</option>
                        <option value="M">Mujer</option>
                    </select>
                </div>
        
                <div class="mb-3">
                    <label for="alturaPesoIdeal" class="form-label text-success">Altura (cm):</label>
                    <input type="number" id="alturaPesoIdeal" class="form-control" placeholder="Ej: 170" required>
                </div>
        
                <button onclick="calcularPesoIdeal()" class="btn btn-success w-100">
                    Calcular Peso Ideal
                </button>
        
                <div class="mt-3 p-3 bg-light rounded border border-success">
                    <p class="mb-0 text-success">Peso Ideal Estimado:</p>
                    <strong id="resultadoPesoIdeal" class="h4">0 kg</strong>
                </div>
        
            </div>
        </div>
{% endblock %}

{% block scripts %}
        
        <script>
        function calcularPesoIdeal() {
            const genero = document.getElementById("generoPesoIdeal").value;
            const altura = parseFloat(document.getElementById("alturaPesoIdeal").value);
        
            if (!altura || altura <= 0) {
                document.getElementById("resultadoPesoIdeal").textContent = "Datos inválidos";
                return;
            }
        
            const pulgadas = altura / 2.54;
            const base = 60;
            let peso;
        
            if (genero === "H") {
                peso = 50 + 2.3 * (pulgadas - base);
            } else {
                peso = 45.5 + 2.3 * (pulgadas - base);
            }
        
            document.getElementById("resultadoPesoIdeal").textContent = 
                Math.max(peso, 0).toFixed(1) + " kg";
        }
        </script>
{% endblock %}